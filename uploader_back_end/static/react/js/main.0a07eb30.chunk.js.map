{"version":3,"sources":["components/Header.js","components/Result.js","actions/index.js","components/Content.js","App.js","reducers/index.js","reducers/item-reducer.js","index.js"],"names":["Header","_Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","react_default","a","createElement","Jumbotron","fluid","className","Container","Component","Result","props","items","map","item","idx","connect","state","console","log","FETCH_ITEMS_ERROR","FETCH_ITEMS_PENDING","FETCH_ITEMS_SUCCESS","getItems","request","axios","get","concat","dispatch","type","then","response","payload","data","catch","err","alert","Content","_this","call","file_placeholder","file_change","e","setState","target","files","name","formData","FormData","append","post","headers","Content-Type","res","ToastsStore","success","msg","error","searchValue","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","document","getElementById","stop","_x","resultElem","React","createRef","id","onChange","htmlFor","placeholder","onClick","lib","store","position","ToastsContainerPosition","TOP_CENTER","lightBackground","components_Result","ref","bindActionCreators","App","components_Header","components_Content","rootReducer","combineReducers","length","undefined","action","result","createStoreWithMiddleware","applyMiddleware","ReduxThunk","createStore","ReactDOM","render","es","reducers","src_App_0"],"mappings":"sRAkBeA,EAff,SAAAC,GAAA,SAAAD,IAAA,OAAAE,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,GAAAE,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAF,EAAAC,GAAAC,OAAAQ,EAAA,EAAAR,CAAAF,EAAA,EAAAW,IAAA,SAAAC,MAAA,WAEQ,OACAC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAWC,OAAK,EAACC,UAAU,YACvBL,EAAAC,EAAAC,cAACI,EAAA,EAAD,KACIN,EAAAC,EAAAC,cAAA,MAAIG,UAAU,aAAd,iBACAL,EAAAC,EAAAC,cAAA,KAAGG,UAAU,QAAb,4FAPhBlB,EAAA,CAA4BoB,uECAfC,EAAb,SAAApB,GAAA,SAAAoB,IAAA,OAAAnB,OAAAC,EAAA,EAAAD,CAAAE,KAAAiB,GAAAnB,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmB,GAAAd,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAmB,EAAApB,GAAAC,OAAAQ,EAAA,EAAAR,CAAAmB,EAAA,EAAAV,IAAA,SAAAC,MAAA,WAaQ,OACIC,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACXL,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,MAAIG,UAAU,cACTd,KAAKkB,MAAMC,MAAMC,IAAI,SAASC,EAAMC,GACjC,OAAQb,EAAAC,EAAAC,cAAA,MAAIJ,IAAKe,EAAKR,UAAU,4BAA4BO,WAlBpFJ,EAAA,CAA4BD,aAkCbO,kBAPf,SAAyBC,GAEvB,OADEC,QAAQC,IAAI,QAAQF,EAAML,OACrB,CACLA,MAAOK,EAAML,QAIFI,CAEbN,UCtCWU,EAAoB,oBACpBC,EAAsB,sBACtBC,EAAsB,sBAEpB,SAASC,EAASvB,GAC7B,IAAIwB,EAAUC,IAAMC,IAAN,mBAAAC,OAA6B3B,IAE3C,OAAO,SAAA4B,GACHA,EAAS,CAACC,KAAMR,IAChBG,EAAQM,KAAK,SAAAC,GACTH,EAAS,CAAEC,KAAMP,EAAqBU,QAASD,EAASE,SAE5DT,EAAQU,MAAM,SAAAC,GACVC,MAAM,8CACNR,EAAS,CAAEC,KAAMT,OCPtB,IAAMiB,EAAb,SAAA/C,GACI,SAAA+C,EAAY1B,GAAM,IAAA2B,EAAA,OAAA/C,OAAAC,EAAA,EAAAD,CAAAE,KAAA4C,IACdC,EAAA/C,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8C,GAAAE,KAAA9C,KAAMkB,KAIVM,MAAM,CACFuB,iBAAiB,IANHF,EAQlBG,YAAY,SAACC,GACTJ,EAAKK,SAAS,CACVH,iBAAiBE,EAAEE,OAAOC,MAAM,GAAGC,OAEvC,IAAIC,EAAW,IAAIC,SACnBD,EAASE,OAAO,OAAOP,EAAEE,OAAOC,MAAM,IACtCpB,IAAMyB,KAAK,UACPH,EAAS,CACLI,QAAQ,CACJC,eAAgB,yBAI3BtB,KAAK,SAAAuB,GACFC,cAAYC,QAAQF,EAAIpB,KAAKuB,OAEhCtB,MAAM,SAAAC,GACHmB,cAAYG,MAAMtB,EAAIJ,SAASE,KAAKuB,QAzB1BlB,EA6BlBoB,YA7BkB,eAAAC,EAAApE,OAAAqE,EAAA,EAAArE,CAAAsE,EAAA1D,EAAA2D,KA6BN,SAAAC,EAAOrB,GAAP,IAAA1C,EAAA,OAAA6D,EAAA1D,EAAA6D,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACFnE,EAAKoE,SAASC,eAAe,WAAWpE,MADtCgE,EAAAE,KAAA,EAEF7B,EAAK3B,MAAMY,SAASvB,GAFlB,wBAAAiE,EAAAK,SAAAP,MA7BM,gBAAAQ,GAAA,OAAAZ,EAAA/D,MAAAH,KAAAI,YAAA,GAEdyC,EAAKkC,WAAWC,IAAMC,YAFRpC,EADtB,OAAA/C,OAAAO,EAAA,EAAAP,CAAA8C,EAAA/C,GAAAC,OAAAQ,EAAA,EAAAR,CAAA8C,EAAA,EAAArC,IAAA,SAAAC,MAAA,WAuCQ,OACIC,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACXL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,oBACXL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,eACXL,EAAAC,EAAAC,cAAA,SAAOyB,KAAK,OAAOtB,UAAU,oBAAoBoE,GAAG,OAAOC,SAAUnF,KAAKgD,cAC1EvC,EAAAC,EAAAC,cAAA,SAAOG,UAAU,oBAAoBsE,QAAQ,QAASpF,KAAKwB,MAAMuB,oBAGzEtC,EAAAC,EAAAC,cAAA,OAAKG,UAAU,cACXL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,OACXL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,UACXL,EAAAC,EAAAC,cAAA,SAAOyB,KAAK,OAAOtB,UAAU,eAAeoE,GAAG,UAAU7B,KAAK,UAAUgC,YAAY,uBAG5F5E,EAAAC,EAAAC,cAAA,OAAKG,UAAU,oCACXL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,qBACXL,EAAAC,EAAAC,cAAA,UAAQG,UAAU,qBAAqBsB,KAAK,SAAS8C,GAAG,SAASI,QAAStF,KAAKiE,aAA/E,aAGRxD,EAAAC,EAAAC,cAAC4E,EAAA,gBAAD,CAAiBC,MAAO3B,cAAa4B,SAAUC,0BAAwBC,WAAYC,iBAAe,KAEtGnF,EAAAC,EAAAC,cAACkF,EAAD,CAAQC,IAAK9F,KAAK+E,kBA5DlCnC,EAAA,CAA6B5B,aAiFZO,kBAPf,SAAyBC,GAEvB,OADEC,QAAQC,IAAI,QAAQF,EAAML,OACrB,CACLA,MAAOK,EAAML,QAVnB,SAA4BgB,GACxB,OAAO4D,YACL,CAAEjE,YACFK,IAWWZ,CAGbqB,GC1EWoD,EAXf,SAAAnG,GAAA,SAAAmG,IAAA,OAAAlG,OAAAC,EAAA,EAAAD,CAAAE,KAAAgG,GAAAlG,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkG,GAAA7F,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAkG,EAAAnG,GAAAC,OAAAQ,EAAA,EAAAR,CAAAkG,EAAA,EAAAzF,IAAA,SAAAC,MAAA,WAEI,OACEC,EAAAC,EAAAC,cAAA,OAAKG,UAAU,QACbL,EAAAC,EAAAC,cAACsF,EAAD,MACAxF,EAAAC,EAAAC,cAACuF,EAAD,WALRF,EAAA,CAAyBhF,qBCARmF,EAJGC,YAAgB,CAC5BjF,MCFO,WAAqC,IAA5BK,EAA4BpB,UAAAiG,OAAA,QAAAC,IAAAlG,UAAA,GAAAA,UAAA,GAAtB,CAACe,MAAO,MAAOoF,EAAOnG,UAAAiG,OAAA,EAAAjG,UAAA,QAAAkG,EAChD,OAAOC,EAAOnE,MACV,KAAKP,EACD,IAAIW,EAAO+D,EAAOhE,QAClB,OAA0B,IAAtBC,EAAKgE,OAAQH,OACG,GAIA7D,EAAKgE,OAG7B,KAAK5E,EAGL,KAAKD,EACD,OAAOH,EACX,QACI,MAAgB,OCXtBiF,EAA4BC,YAAgBC,IAAhBD,CAA4BE,KAE9DC,IAASC,OACDrG,EAAAC,EAAAC,cAACoG,EAAA,EAAD,CAAUvB,MAAOiB,EAA0BO,IACvCvG,EAAAC,EAAAC,cAACsG,EAAD,OAEXtC,SAASC,eAAe","file":"js/main.0a07eb30.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { Jumbotron, Container } from 'react-bootstrap';\n\nexport class Header extends Component {\n    render() {\n        return (\n        <div>\n        <Jumbotron fluid className=\"bg-light\">\n            <Container>\n                <h1 className=\"display-3\">File Uploader</h1>\n                <p className=\"lead\">Upload *csv files with columns (key, value) and search for the values using keys.</p>\n            </Container>\n        </Jumbotron>\n      </div>\n        )\n    }\n}\n\nexport default Header\n","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\n\nexport class Result extends Component {\n    // state={\n    //     items:[\n    //         33,44,55\n    //     ]\n    // }\n    // onResultChange=(data)=>{\n    //     this.setState({\n    //         items:data\n    //     })\n    // }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <h2>Result:</h2>\n                <ul className=\"list-group\">\n                    {this.props.items.map(function(item, idx){\n                        return (<li key={idx} className=\"list-group-item bg-light\">{item}</li>)\n                    })}\n                </ul>\n            </div>\n        )\n    }\n}\n\n  \nfunction mapStateToProps(state) {\n    console.log(\"State\",state.items);\n  return {\n    items: state.items,\n  };\n}\n\nexport default connect(\n  mapStateToProps\n)(Result);\n\n// export default Result;\n","import axios from 'axios';\r\nexport const FETCH_ITEMS_ERROR = \"FETCH_ITEMS_ERROR\";\r\nexport const FETCH_ITEMS_PENDING = \"FETCH_ITEMS_PENDING\";\r\nexport const FETCH_ITEMS_SUCCESS = \"FETCH_ITEMS_SUCCESS\";\r\n\r\nexport default function getItems(key){\r\n    var request = axios.get(`/search?key_txt=${key}`)\r\n\r\n    return dispatch=>{\r\n        dispatch({type: FETCH_ITEMS_PENDING})\r\n        request.then(response=>{\r\n            dispatch({ type: FETCH_ITEMS_SUCCESS, payload: response.data });\r\n        })\r\n        request.catch(err=>{\r\n            alert(\"Please refresh the browser and try again!!\");\r\n            dispatch({ type: FETCH_ITEMS_ERROR });\r\n        })\r\n    } \r\n}","import React, { Component } from 'react';\nimport axios from 'axios';\nimport {ToastsContainer, ToastsStore, ToastsContainerPosition} from 'react-toasts';\nimport Result from './Result';\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport getItems from '../actions/index'\n\nexport class Content extends Component {\n    constructor(props){\n        super(props);\n        this.resultElem=React.createRef();\n    }\n\n    state={\n        file_placeholder:\"\"\n    }\n    file_change=(e)=>{\n        this.setState({\n            file_placeholder:e.target.files[0].name\n        });\n        var formData = new FormData();\n        formData.append(\"file\",e.target.files[0]);\n        axios.post(\"/upload\",\n            formData,{\n                headers:{\n                    'Content-Type': 'multipart/form-data'\n                }\n            }\n        )\n        .then(res=>{\n            ToastsStore.success(res.data.msg);\n        })\n        .catch(err=>{\n            ToastsStore.error(err.response.data.msg);\n        });\n    }\n\n    searchValue=async (e)=>{\n        const key= document.getElementById(\"key_txt\").value;\n        await this.props.getItems(key)\n        // axios.get(`/search?key_txt=${key}`)\n        // .then(res=>{\n            // this.resultElem.current.onResultChange(res.data.result);\n        // });\n    }\n    render() {\n        return (\n            <div className=\"container\">\n                <div className=\"input-group mb-3\">\n                    <div className=\"custom-file\">\n                        <input type=\"file\" className=\"custom-file-input\" id=\"file\" onChange={this.file_change}/>\n                        <label className=\"custom-file-label\" htmlFor=\"file\" >{this.state.file_placeholder}</label>\n                    </div>\n                </div>\n                <div className=\"form-group\">\n                    <div className=\"row\">\n                        <div className=\"col-12\">\n                            <input type=\"text\" className=\"form-control\" id=\"key_txt\" name=\"key_txt\" placeholder=\"Search your data\"/>\n                        </div>\n                    </div>\n                    <div className=\"row  mt-2 justify-content-center\">  \n                        <div className=\"col-4 text-center\">\n                            <button className=\"btn-primary btn-lg\" type=\"submit\" id=\"search\" onClick={this.searchValue}> Search</button>\n                        </div>\n                    </div>\n                    <ToastsContainer store={ToastsStore} position={ToastsContainerPosition.TOP_CENTER} lightBackground></ToastsContainer>\n                </div>\n                <Result ref={this.resultElem}/>\n            </div>\n        )\n    }\n};\n\n\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators(\n      { getItems },\n      dispatch\n    );\n  }\n  \n  function mapStateToProps(state) {\n      console.log(\"State\",state.items);\n    return {\n      items: state.items,\n    };\n  }\n  \n  export default connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(Content);\n\n\n// export default Content;\n","import './App.css';\nimport {Container, Button} from 'react-bootstrap'\nimport React, { Component } from 'react'\nimport Header from './components/Header';\nimport Content from './components/Content';\n\n\nexport class App extends Component {\n  render() {\n    return (\n      <div className=\"mx-0\">\n        <Header/>\n        <Content/>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\r\nimport items from './item-reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n        items: items\r\n  });\r\n  \r\n  export default rootReducer;","import {FETCH_ITEMS_PENDING, FETCH_ITEMS_SUCCESS, FETCH_ITEMS_ERROR} from '../actions/index';\r\n\r\nexport default function(state={items: null}, action){\r\n    switch(action.type){\r\n        case FETCH_ITEMS_SUCCESS:\r\n            let data = action.payload;\r\n            if((data.result).length===0){\r\n                let new_state = [];\r\n                return new_state\r\n            }\r\n            else{\r\n                let new_state = data.result\r\n                return new_state\r\n            }\r\n        case FETCH_ITEMS_PENDING:\r\n            return state;\r\n\r\n        case FETCH_ITEMS_ERROR:\r\n            return state;\r\n        default:\r\n            return (state = [])\r\n    }\r\n\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport ReduxThunk from \"redux-thunk\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport reducers from \"./reducers\";\n\nconst createStoreWithMiddleware = applyMiddleware(ReduxThunk)(createStore);\n\nReactDOM.render(\n        <Provider store={createStoreWithMiddleware(reducers)}>\n            <App />\n        </Provider>,\n document.getElementById('root'));\n\n"],"sourceRoot":""}