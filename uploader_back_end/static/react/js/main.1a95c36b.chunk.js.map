{"version":3,"sources":["components/Header.js","components/Result.js","actions/index.js","components/Content.js","App.js","reducers/index.js","reducers/item-reducer.js","index.js"],"names":["Header","_Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","react_default","a","createElement","Jumbotron","fluid","className","Container","Component","Result","props","items","map","item","idx","connect","state","FETCH_ITEMS_ERROR","FETCH_ITEMS_PENDING","FETCH_ITEMS_SUCCESS","getItems","request","axios","get","concat","dispatch","type","then","response","payload","data","catch","err","Content","_this","call","file_placeholder","file_change","e","setState","target","files","name","formData","FormData","append","post","headers","Content-Type","res","ToastsStore","success","msg","searchValue","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","document","getElementById","stop","_x","resultElem","React","createRef","id","onChange","htmlFor","placeholder","onClick","lib","store","position","ToastsContainerPosition","TOP_RIGHT","components_Result","ref","console","log","bindActionCreators","App","components_Header","components_Content","rootReducer","combineReducers","length","undefined","action","result","createStoreWithMiddleware","applyMiddleware","ReduxThunk","createStore","ReactDOM","render","es","reducers","src_App_0"],"mappings":"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","file":"js/main.1a95c36b.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { Jumbotron, Container } from 'react-bootstrap';\r\n\r\n// Header section to display purpose of the app\r\nexport class Header extends Component {\r\n    render() {\r\n        return (\r\n        <div>\r\n        <Jumbotron fluid className=\"bg-light\">\r\n            <Container>\r\n                <h1 className=\"display-3\">File Uploader</h1>\r\n                <p className=\"lead\">Upload *csv files with columns (key, value) and search for the values using keys.</p>\r\n            </Container>\r\n        </Jumbotron>\r\n      </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Header\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\n// Display component for results\r\n\r\nexport class Result extends Component {\r\n    // state={\r\n    //     items:[\r\n    //         33,44,55\r\n    //     ]\r\n    // }\r\n    // onResultChange=(data)=>{\r\n    //     this.setState({\r\n    //         items:data\r\n    //     })\r\n    // }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <h2>Result:</h2>\r\n                <ul className=\"list-group\">\r\n                    {this.props.items.map(function (item, idx) {\r\n                        return (<li key={idx} className=\"list-group-item bg-light\">{item}</li>)\r\n                    })}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    // console.log(\"State\", state.items);\r\n    return {\r\n        items: state.items,\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(Result);\r\n\r\n// export default Result;\r\n","import axios from 'axios';\r\nexport const FETCH_ITEMS_ERROR = \"FETCH_ITEMS_ERROR\";\r\nexport const FETCH_ITEMS_PENDING = \"FETCH_ITEMS_PENDING\";\r\nexport const FETCH_ITEMS_SUCCESS = \"FETCH_ITEMS_SUCCESS\";\r\n\r\n//Dispatcher to fire actions for success and error in item reducers \r\nexport default function getItems(key){\r\n    var request = axios.get(`/search?key_txt=${key}`)\r\n\r\n    return dispatch=>{\r\n        dispatch({type: FETCH_ITEMS_PENDING})\r\n        request.then(response=>{\r\n            dispatch({ type: FETCH_ITEMS_SUCCESS, payload: response.data });\r\n        })\r\n        request.catch(err=>{\r\n            // alert(\"Please refresh the browser and try again!!\");\r\n            dispatch({ type: FETCH_ITEMS_ERROR });\r\n        })\r\n    } \r\n}","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport {ToastsContainer, ToastsStore, ToastsContainerPosition} from 'react-toasts';\r\nimport Result from './Result';\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport getItems from '../actions/index'\r\n\r\n// Content components that houses file upload and search\r\n// with submit action to search for keys\r\n\r\n\r\nexport class Content extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.resultElem=React.createRef();\r\n    }\r\n\r\n    state={\r\n        file_placeholder:\"\"\r\n    }\r\n    file_change=(e)=>{\r\n        this.setState({\r\n            file_placeholder:e.target.files[0].name\r\n        });\r\n        var formData = new FormData();\r\n        formData.append(\"file\",e.target.files[0]);\r\n        axios.post(\"/upload\",\r\n            formData,{\r\n                headers:{\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            }\r\n        )\r\n        .then(res=>{\r\n            ToastsStore.success(res.data.msg);\r\n        })\r\n        .catch(err=>{\r\n            ToastsStore.success(err.response.data.msg);\r\n        });\r\n    }\r\n\r\n    searchValue=async (e)=>{\r\n        const key= document.getElementById(\"key_txt\").value;\r\n        await this.props.getItems(key)\r\n        // axios.get(`/search?key_txt=${key}`)\r\n        // .then(res=>{\r\n            // this.resultElem.current.onResultChange(res.data.result);\r\n        // });\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"input-group mb-3\">\r\n                    <div className=\"custom-file\">\r\n                        <input type=\"file\" className=\"custom-file-input\" id=\"file\" onChange={this.file_change}/>\r\n                        <label className=\"custom-file-label\" htmlFor=\"file\" >{this.state.file_placeholder}</label>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12\">\r\n                            <input type=\"text\" className=\"form-control\" id=\"key_txt\" name=\"key_txt\" placeholder=\"Search your data\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row  mt-2 justify-content-center\">  \r\n                        <div className=\"col-4 text-center\">\r\n                            <button className=\"btn-primary btn-lg\" type=\"submit\" id=\"search\" onClick={this.searchValue}> Search</button>\r\n                        </div>\r\n                    </div>\r\n                    <ToastsContainer store={ToastsStore} position={ToastsContainerPosition.TOP_RIGHT}></ToastsContainer>\r\n                </div>\r\n                <Result ref={this.resultElem}/>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators(\r\n      { getItems },\r\n      dispatch\r\n    );\r\n  }\r\n  \r\n  function mapStateToProps(state) {\r\n      console.log(\"State\",state.items);\r\n    return {\r\n      items: state.items,\r\n    };\r\n  }\r\n  \r\n  export default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(Content);\r\n\r\n\r\n// export default Content;\r\n","import './App.css';\r\nimport {Container, Button} from 'react-bootstrap'\r\nimport React, { Component } from 'react'\r\nimport Header from './components/Header';\r\nimport Content from './components/Content';\r\n\r\n\r\nexport class App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"mx-0\">\r\n        <Header/>\r\n        <Content/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { combineReducers } from 'redux';\r\nimport items from './item-reducer';\r\n\r\n// Combine reducers for future add-ons of reducers\r\nconst rootReducer = combineReducers({\r\n        items: items\r\n  });\r\n  \r\n  export default rootReducer;","import {FETCH_ITEMS_PENDING, FETCH_ITEMS_SUCCESS, FETCH_ITEMS_ERROR} from '../actions/index';\r\n\r\n\r\n// Reducer to update item states\r\nexport default function(state={items: null}, action){\r\n    switch(action.type){\r\n        case FETCH_ITEMS_SUCCESS:\r\n            let data = action.payload;\r\n            if((data.result).length===0){\r\n                let new_state = [];\r\n                return new_state\r\n            }\r\n            else{\r\n                let new_state = data.result\r\n                return new_state\r\n            }\r\n        case FETCH_ITEMS_PENDING:\r\n            return state;\r\n\r\n        case FETCH_ITEMS_ERROR:\r\n            return state;\r\n        default:\r\n            return (state = [])\r\n    }\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport ReduxThunk from \"redux-thunk\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport reducers from \"./reducers\";\r\n\r\nconst createStoreWithMiddleware = applyMiddleware(ReduxThunk)(createStore);\r\n\r\nReactDOM.render(\r\n        <Provider store={createStoreWithMiddleware(reducers)}>\r\n            <App />\r\n        </Provider>,\r\n document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}